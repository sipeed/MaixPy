## 1. 简介
本程序适用于Maixcam/Pro/2系列硬件设备，通过调用摄像头采集画面、手部关键点检测模型识别手部动作，将识别到的手部位置和按压动作转化为HID触摸板指令，实现无接触的手势操控电脑/设备触摸板功能。

## 2. 主要功能
- **手部位置追踪**：实时识别画面中手部位置，并将其映射为触摸板的绝对坐标，移动手部即可控制触摸板光标移动。
- **手势按压模拟**：识别拇指与中指的并拢/分开动作，模拟触摸板左键按压/释放操作（拇指和中指靠近时触发按压，分开时释放）。
- **自动复位**：若3秒内未检测到手部，自动取消按压状态，避免误操作。
- **可视化反馈**：实时显示摄像头画面及手部关键点检测结果，便于确认识别状态。

## 3. 使用说明
### 3.1 前置准备
1. **USB HID模式设置**：
   - 进入设备“设置 -> USB设置 -> HID Touchpad”，点击确认启用；
2. **模型文件确认**：确保设备内`/root/models/`路径下存在`hand_landmarks.mud`（或`hand_landmarks_bf16.mud`）手部关键点检测模型文件。

### 3.2 运行程序
1. 将程序文件上传至设备并执行；
2. 程序启动后，摄像头会自动开启，画面实时显示手部检测结果；
3. 操控方式(需要将摄像头对准人)：
   - 移动手部：在摄像头画面的检测区域（画面10%~90%宽、10%~80%高范围）内移动手部，触摸板光标会同步移动；
   - 模拟点击：将拇指与中指并拢（画面中两点距离小于阈值），触发触摸板左键按压；分开手指则释放按压。

### 3.3 退出程序
- 按设备物理按键退出，或通过设备管理界面终止程序进程。

## 4. 注意事项
1. **环境要求**：使用时确保光线充足，避免强光/逆光，否则会降低手部识别准确率；
2. **识别范围**：手部需处于摄像头画面的检测区域内（10%~90%宽、10%~80%高），超出范围可能无法识别；
3. **USB连接**：设备需通过USB线连接至电脑/目标设备，且已正确启用HID Touchpad模式，否则程序会提示HID未就绪,若未连接电脑则会报错；
4. **模型兼容性**：Maixcam-pro使用bf16格式模型，普通Maixcam使用默认模型，程序会自动适配，但需确保对应模型文件存在；
5. **误操作避免**：若长时间不使用，建议退出程序，防止手部误进入检测区域触发不必要的触摸板操作。
6. **参数可调项**：
   - `SHOW_IMG`：控制是否显示摄像头画面（默认开启）；
   - `DEBUG_MODE`：开启后强制显示画面，便于调试；
   - `detect_roi`：调整手部检测区域（百分比单位），可根据使用场景优化识别范围；
   - `target_screen_roi`：调整触摸板坐标映射的屏幕区域，适配不同显示设备。
7. **扩展功能**：程序预留了键盘按键发送接口（`send_keys`函数），可基于手部关键点识别扩展更多手势指令（如滑动、滚轮、快捷键等）；
8. **画质调节**：`trans_img_quality`参数可调整画面传输画质，数值越低画质越差但传输速度越快，可根据网络/设备性能调整。

## 5. 更多介绍
[源码](https://github.com/sipeed/MaixPy/tree/main/projects/app_usb_hand_touch)