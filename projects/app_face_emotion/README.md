## 简介
本程序是基于YOLOv8人脸检测模型与专用人脸情绪分类模型，实现了实时的人脸捕捉与情绪状态判定。无需复杂的额外配置，开箱即可使用，适用于快速的人脸情绪场景验证、简易人机交互辅助等场景。

## 主要功能
1.  **实时人脸检测**：通过YOLOv8轻量化人脸检测模型，能够从摄像头实时采集的画面中，快速识别并定位人脸区域，支持多个人脸同时检测。
2.  **人脸情绪分类**：对检测到的人脸进行裁剪与预处理后，通过专用情绪分类模型完成情绪判定，输出对应情绪标签及置信度评分。
3.  **详细结果展示**：
    -  对首个检测到的人脸，展示全量情绪类别及对应置信度可视化进度条，直观呈现各类情绪的判定概率。
    -  对所有检测到的人脸，标注人脸框及最优匹配情绪标签、置信度，通过颜色区分（绿色为高置信度，红色为低置信度）。
4.  **简易人机交互**：支持触摸屏操作，提供返回退出与模型切换功能，满足不同场景下的使用需求。
5.  **界面辅助元素**：内置返回图标、模型状态显示，界面简洁易懂，无需专业操作经验即可查看结果。

## 使用说明
![](./assets/face_emotion_neutral.jpg)
1.  **启动程序**：程序启动后将自动初始化摄像头、显示屏与模型，进入实时检测界面。
2.  **查看结果**：
    -  摄像头对准人脸区域，程序将自动检测人脸并进行情绪分类，实时在显示屏上刷新结果。
    -  查看首个人脸的全量情绪置信度详情，以及所有人脸的快速标注结果，置信度达到设定阈值将显示绿色标注，未达到则显示红色标注。
3.  **触摸屏操作**：
    -  **模型切换**：点击显示屏下方显示当前模型名称的矩形区域，程序将提示“switching model ...”，完成模型切换后将刷新检测结果（当前支持7类情绪模型）。
    -  **退出程序**：点击显示屏左上角的返回图标，即可触发程序退出流程，关闭应用。

## 注意事项
1.  **使用环境要求**：
    -  建议在光线充足、环境稳定的场景下使用，昏暗、强光直射或抖动剧烈的环境会降低人脸检测准确率与情绪分类效果。
    -  人脸需正对摄像头，距离适中，过度遮挡（如口罩、墨镜）将影响检测与分类结果。
2.  **置信度阈值说明**：程序内置检测置信度与情绪置信度阈值，低于阈值的结果将标注为红色，仅作参考，不代表有效情绪判定。

## 更多介绍
[源码](https://github.com/sipeed/MaixPy/tree/main/projects/app_face_emotion)
[MaixCAM MaixPy 人脸表情情绪识别、性别、口罩，年龄等识别](https://wiki.sipeed.com/maixpy/doc/zh/vision/face_emotion.html)