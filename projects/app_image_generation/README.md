## 1. 简介
本APP是一款运行在MaixCam2设备上的智能应用，通过**语音识别（ASR）** 与**文本/图像生成图像（Txt to Img/Img to Img）** 技术结合，实现了语音输入触发图像生成的便捷操作，同时支持相机实时预览与图像抓拍功能，无需手动输入文本即可完成创意图像制作，操作直观，适合快速实现视觉创意落地。

## 2. 主要功能
1.  **语音转录（长按录音）**：支持语音输入并自动转录为文本提示词（prompt），作为图像生成的输入依据。
2.  **文本生成图像（Txt2 to Img）**：基于语音转录的提示词，调用LCM-LoRA SDV1.5模型生成对应的创意图像。
3.  **图像生成图像（Img to Img）**：基于已生成的文本图像，结合语音提示词进行二次优化与重构，生成更贴合需求的图像。
4.  **相机实时预览与抓拍**：支持开启设备相机实时预览画面，并可抓拍当前画面作为Img2Img的基础素材。
5.  **便捷退出**：通过屏幕专属退出区域快速终止应用，保障设备资源正常回收。

## 3. 使用说明
### 3.1 前期准备
1.  确保设备为**4GB版本MaixCam2**，且已正确烧录对应固件。
2.  系统默认自带模型文件若模型不存在,需要提前下载模型至/root/models目录
3.  运行应用程序，等待启动加载完成（加载过程中屏幕会显示进度提示，请耐心等待）。

### 3.2 操作步骤
![alt text](./assets/image.png)
1.  **启动完成**：应用加载完成后，进入主界面，界面包含录音按钮、功能按钮、相机预览区与文本提示区。
2.  **录制语音提示词**：
    - 长按界面上的「Record (Long press)」按钮，开始录音（屏幕提示「Recording..」）。
    - 对着设备麦克风说出图像生成需求（如“一片开满樱花的湖边小屋，卡通风格”）。
    - 松开按钮停止录音，应用自动转录语音为文本（屏幕提示「Transcribing ...」，转录完成后文本提示区显示对应内容）。
3.  **文本生成图像**：
    - 转录完成后，点击「Text To Image」按钮。
    - 等待模型运行（期间保持设备稳定，勿频繁操作），完成后预览区显示生成的图像，文本提示区显示完成信息。
    - 生成的图像自动保存于设备`/tmp/text2img.jpg`路径下。
4.  **图像生成图像**：
    - 确保已完成Txt2Img生成（存在有效基础图像）。
    - 如需二次优化，可重新录制新的语音提示词（或沿用原有提示词）。
    - 点击「Image To Image」按钮，等待模型基于基础图像与提示词完成二次生成，生成结果保存于`/tmp/img2img.jpg`路径下。
5.  **相机操作**：
    - 点击「Camera」按钮，开启相机实时预览（再次点击可关闭预览，返回原有图像）。
    - 开启预览后，点击「Capture」按钮，抓拍当前相机画面，作为Img2Img的基础素材（自动覆盖`/tmp/text2img.jpg`）。
6.  **退出应用**：
    - 点击屏幕左上角的退出图像区域（「exit.jpg」显示区域）。
    - 等待应用显示「Exit..」提示，完成资源回收后自动退出，无需手动强制关闭。

## 4. 注意事项
1.  **硬件要求**：仅支持4GB版本MaixCam2设备，2GB版本设备因内存不足无法运行，启动时会自动检测并提示退出。
2.  **模型加载**：首次启动应用时，模型加载与初始化需要较长时间（屏幕提示「It may wait for a long time」），请耐心等待，勿断电或强制退出。
3.  **录音操作**：录音需**长按「Record」按钮**（短按不生效），建议在安静环境下录音，提升语音转录准确率。
4.  **设备稳定性**：图像生成过程中（Txt2Img/Img2Img），模型占用大量计算资源，请勿同时运行其他应用，避免设备卡顿或崩溃。
5.  **存储路径**：生成的图像自动保存于`/tmp`目录下。
6.  **免责声明**: 该模型存在的固有的局限性，可能产生错误的、有害的、冒犯性的或其他不良的输出等内容与 *Sipeed* 无关

## 5. 更多介绍
[源码](https://github.com/sipeed/MaixPy/tree/dev/projects/demo_generate_image_and_print)

[MaixPy MaixCAM 运行 LCM-LoRA-SDv1-5 模型](https://wiki.sipeed.com/maixpy/doc/zh/mllm/dlm_lora_sdv1_5.html)